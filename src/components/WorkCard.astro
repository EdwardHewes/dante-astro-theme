---
import { type ImageMetadata } from 'astro';
import CustomImage from './CustomImage.astro';

export interface Props {
    title: string;
    description?: string;
    image?: ImageMetadata;
    imageAlt?: string;
    href: string;
    class?: string;
}

const { title, description, image, imageAlt = title, href, class: className } = Astro.props;
---

<a
    href={href}
    class:list={[
        'group flex flex-col overflow-hidden rounded-lg border-2 border-main bg-main transition-all hover:border-accent hover:shadow-md',
        className
    ]}
>
    {
        image && (
            <div class="aspect-video w-full overflow-hidden bg-gray-200">
                <CustomImage src={image} alt={imageAlt} class="h-full w-full object-cover transition-transform group-hover:scale-105" />
            </div>
        )
    }
    <div class="flex grow flex-col p-6">
        <h3 class="font-serif text-lg font-medium leading-tight group-hover:underline group-hover:decoration-dashed sm:text-xl">
            {title}
        </h3>
        {description && <p class="mt-2 text-sm leading-relaxed text-gray-600 dark:text-gray-400">{description}</p>}
    </div>
</a>
